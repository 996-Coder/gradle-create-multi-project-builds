/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
plugins {
	//使用apply false会将该插件添加到整个项目，但不会将其添加到根项目。
	id 'org.asciidoctor.convert' version '1.5.6' apply false
}

//allprojects闭包用来配置所有子项目及根项目的公共特性
allprojects {
	repositories {
		jcenter()
	}
}

//subprojects闭包用来配置所有子项目的公共特性（不包括根项目）
subprojects {
	version = '1.0'
}

//	Use of configure along with a predicate closure allows for selective sub-projects to be configured. 
//	The predicate closure is passed a subproject whose name can be queried. In this case only sub-projects 
//	with specific name matches will be configured.
configure(subprojects.findAll { it.name == 'greeter' || it.name == 'greeting-library' }) {

	apply plugin: 'groovy'

	dependencies {
		testCompile 'org.spockframework:spock-core:1.0-groovy-2.4', {
			exclude module: 'groovy-all'
		}
	}
}